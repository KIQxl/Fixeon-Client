<div class="dashboard-container" *ngIf="!loading && data">
  <h2>üìä An√°lise de Chamados</h2>

  <div class="cards-grid">
    <div class="card total">
      <h3>Total</h3>
      <p>{{ data!.ticketAnalysisResponse.total }}</p>
    </div>
    <div class="card avg">
      <h3>M√©dia de Resolu√ß√£o</h3>
      <p>{{ data!.ticketAnalysisResponse.averageResolutionTimeInHours }}</p>
    </div>
    <div class="card pending">
      <h3>Pendentes</h3>
      <p>{{ data!.ticketAnalysisResponse.pending }}</p>
    </div>
    <div class="card inprogress">
      <h3>Em Progresso</h3>
      <p>{{ data!.ticketAnalysisResponse.inProgress }}</p>
    </div>
    <div class="card resolved">
      <h3>Resolvidos</h3>
      <p>{{ data!.ticketAnalysisResponse.resolved }}</p>
    </div>
  </div>

  <div class="charts-grid">
    <div class="chart-card">
      <h5>Chamados Criados X Chamados Encerrados</h5>
      <canvas #dayChart></canvas>
    </div>
    <div class="chart-card">
      <h5>Pico de Ocorrencias por Hor√°rio</h5>
      <canvas #hourChart></canvas>
    </div>
  </div>

  <div class="charts-grid">
    <div class="chart-card wide">
      <h5>Chamados por status</h5>
      <canvas #statusChart></canvas>
    </div>
    <div class="chart-card wide">
      <h5>Abertura de chamados por empresa e SLA</h5>
      <canvas #slaChart></canvas>
    </div>
  </div>

  <div class="table-section">
    <h3>üèÜ Top Analistas (√∫ltimos 30 dias)</h3>
    <table class="top-analysts">
      <thead>
        <tr>
          <th>Analista</th>
          <th>Chamados Resolvidos</th>
          <th>M√©dia de Tempo</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let a of data.topAnalystResponse">
          <td>{{ a.analystName }}</td>
          <td>{{ a.ticketsLast30Days }}</td>
          <td>{{ a.averageTime }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div *ngIf="loading" class="loading">
  ‚è≥ Carregando an√°lises...
</div>
